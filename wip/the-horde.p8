pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- the horde
-- @aquova

-- a spoopy halloween game
-- for the pico-8 4-color jam

function _init()
	screen=128
	floor=100
	p1=newrunner()
end

function _update()
	p1:update()
end

function _draw()
	drawbkg()
	p1:draw()
end
-->8
-- runner

function newrunner()
	local r={
		x=screen/2,
		y=100,
		dy=0,
		size=8,
		jumpspd=4
	}
	
	function r:update()
		self.dy=min(self.dy+0.2,self.jumpspd)
		
		if btn(⬅️) then
			self.x=max(self.x-1,0)
		elseif btn(➡️) then
			self.x=min(self.x+1,screen-self.size)
		end
		
		if btnp(❎) and self.y==floor then
			self.dy=-self.jumpspd
		end
		
		self.y=min(self.y+self.dy,floor)
	end
	
	function r:draw()
		spr(1, self.x, self.y)
	end
	
	return r
end
-->8
-- drawing

function drawbkg()
	cls()
	drawmoon()
	drawhouses()
	drawstreet()
end

function drawmoon()
	circfill(100,30,15,6)
	circfill(105,25,10,0)
end

function drawhouses()
	rectfill(0,screen/2,screen,screen,13)
end

function drawstreet()
	rectfill(0,floor,screen,floor+16,0)
	for x=0,9,2 do
		line(x*screen/10,floor+8,(x+1)*screen/10,floor+8,2)
	end
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000dddd00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0070070000d6262d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000d6666d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000d6666d0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000d6666d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000d6666d00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000dddddd000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
