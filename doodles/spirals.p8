pico-8 cartridge // http://www.pico-8.com
version 15
__lua__
-- spirals
-- by @aquova

width=128
height=128

innerrad=30
smallrad=15

points={}
maxpoints=600

swingspeed=3

timer=0
tablecount=0

function _update()
 -- left and right changes blue swing speed
 if btnp(0) then
  swingspeed-=0.5
 end
 if btnp(1) then
  swingspeed+=0.5
 end

	x1=width/2+innerrad*cos(timer)
	y1=height/2+innerrad*sin(timer)

	x2=width/2+innerrad*sin(timer+2*3.14/3)
	y2=height/2-innerrad*cos(timer+2*3.14/3)

	x3=width/2-innerrad*cos(timer+4*3.14/3)
	y3=height/2-innerrad*sin(timer+4*3.14/3)

 subx1=x1+smallrad*cos(swingspeed*timer)
 suby1=y1+smallrad*sin(swingspeed*timer)

 subx2=x2+smallrad*sin(swingspeed*timer+2*3.14/3)
 suby2=y2-smallrad*cos(swingspeed*timer+2*3.14/3)

 subx3=x3-smallrad*cos(swingspeed*timer+4*3.14/3)
 suby3=y3-smallrad*sin(swingspeed*timer+4*3.14/3)

 points[(3*tablecount)%maxpoints]={subx1,suby1}
 points[(3*tablecount+1)%maxpoints]={subx2,suby2}
 points[(3*tablecount+2)%maxpoints]={subx3,suby3}

 tablecount+=1
	timer+=0.005
end

function _draw()
 cls()
 -- draw unfilled circles
	circ(width/2,height/2,innerrad,8)

 -- draw lines to green circles
 line(width/2,height/2,x1,y1,11)
 line(width/2,height/2,x2,y2,11)
 line(width/2,height/2,x3,y3,11)

 -- draw lines to blue circles
 line(x1,y1,subx1,suby1,12)
 line(x2,y2,subx2,suby2,12)
 line(x3,y3,subx3,suby3,12)

 -- draw traced line
 for p in all(points) do
  pset(p[1],p[2],9)
 end

 -- draw green circles
	circfill(x1,y1,3,11)
	circfill(x2,y2,3,11)
	circfill(x3,y3,3,11)

 -- draw blue circles
	circfill(width/2,height/2,5,8)
 circfill(subx1,suby1,2,12)
 circfill(subx2,suby2,2,12)
 circfill(subx3,suby3,2,12)

 -- prints info
 print("⬅️ and ➡️ to change speed: "..swingspeed)
end
__label__
0ccccc000000ccc0cc00cc0000000ccccc000000ccc00cc000000cc0c0c0ccc0cc000cc0ccc000000cc0ccc0ccc0ccc0cc0000000000ccc00000000000000000
ccc00cc00000c0c0c0c0c0c00000cc00ccc000000c00c0c00000c000c0c0c0c0c0c0c000c0000000c000c0c0c000c000c0c00c00000000c00000000000000000
cc000cc00000ccc0c0c0c0c00000cc000cc000000c00c0c00000c000ccc0ccc0c0c0c000cc000000ccc0ccc0cc00cc00c0c0000000000cc00000000000000000
ccc00cc00000c0c0c0c0c0c00000cc00ccc000000c00c0c00000c000c0c0c0c0c0c0c0c0c000000000c0c000c000c000c0c00c00000000c00000000000000000
0ccccc000000c0c0c0c0ccc000000ccccc0000000c00cc0000000cc0c0c0c0c0c0c0ccc0ccc00000cc00c000ccc0ccc0ccc000000000ccc00000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000900909000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000009090000000090090000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000090900000000000000000909000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000009000000000000000000000000090000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000900000000000000000000000000000090000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000090000000000000000000000000000000000900000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000009000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000090000000000000000000000000000000000000000000000009000000000000000000000000000000000000000
00000000000000000000000000000000000009000000000900000000000000000000000000000000000000000900000000000000000000000000000000000000
00000000000000000000000000000000000000000000009000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000900000000000000000000000000000000000000000000000000000009000000000000000000000000000000000000
00000000000000000000000000000000090000000000900000000000000000000000000000000000000000000000090000000000000000000000000000000000
00000000000000000000000000000000000000000009009090990000000000000000000000009099090000000000000000000000000000000000000000000000
00000000000000000000000000000000900000009090900000000909000000000000000009900000000909000000009000000000000000000000000000000000
00000000000000000000000000000000000000900090000000000000909000000000009900000000000000090900000000000000000000000000000000000000
00000000000000000000000000000090000009000900000000000000000988888888980000000000000000000009000090000000000000000000000000000000
00000000000000000000000000000000000900000000000000000008888090000099008888000000000000000000090000000000000000000000000000000000
00000000000000000000000000000900090000009000000000000880000009900900000000880000000000000000009009000000000000000000000000000000
00000000000000000000000000000009000000000000000000888000000000099000000000008880000000000000000000000000000000000000000000000000
00000000000000000000000000009000000000090000000008000000000000099000000000000008000000000000000090900000000000000000000000000000
00000000000000000000000000000090000000090000000880000000000000900900000000000000880000000000000000900000000000000000000000000000
00000000000000000000000000099000000000000000008000000000000000900900000000000000008000000000000000090000000000000000000000000000
00000000000000000000000000000000000000900000080000000000000009000090000000000000000800000000000000000000000000000000000000000000
00000000000000000000000000900000000000000000800000000000000009000090000000000000000080000000000000009900000000000000000000000000
00000000000000000000000000000000000000900008000000000000000009000090000000000000000008000000000000000000000000000000000000000000
00000000000000000000000009000000000000bbb080000000000000000009000090000000000000000000800000000000009090000000000000000000000000
0000000000000000000000009000000000000bbbbb00000000000000000009000090000000000000000000080000000000000000000000000000000000000000
000000000000000000000000900000000000bbbbbbb0000000000000000009000090000000000000000000008000000000000900900000000000000000000000
000000000000000000000009000000000000bbbbbbb0000000000000000009000090000000000000000000000800000000000000000000000000000000000000
000000000000000000000000000000000000bbbbbbb0000000000000000000999900000000000000000000000800000000000900090000000000000000000000
0000000000000000000000909000000000000bbbbbb00000000000000000000000000000000000009999099000bbb00000000000000000000000000000000000
00000000000000000000000000000000000008bbbc0bb000000000000000000000000000000ccc09000000099bbbbb0000000900009000000000000000000000
000000000000000000000000900000000000080000c00b0000000000000000000000000000ccccc000000000bbbbbbb000000000000000000000000000000000
000000000000000000000900000000000000080900c000bb00000000000000000000000000ccccccccccccccbbbbbbb000000900000900000000000000000000
0000000000000000000000009000000000008009000c0000b0000000000000000000000000ccccc000000000bbbbbbb000000000000000000000000000000000
00000000000000000000900000000000000080009000c0000bb000000000000000000000000ccc00000000bb0bbbbb0900000900000900000000000000000000
00000000000000000000000090000000000800009000c000000b00000000000000000000000000000000bb0000bbb80090000000000000000000000000000000
000000000000000000090000000000000008000009000c000000b0000000000000000000000000000bbb00000000080009000900000000000000000000000000
0000000000000000000000009000000000080000009000ccc0000bb000000000000000000000000bb00000000000080000000000000090000000000000000000
000000000000000000090000000000000008000000099ccccc00000b000000000000000000000bb0000000000000080000909000000000000000000000000000
000000000000000000000000900000000080000000000ccccc000000bb00008888800000000bb000000000000000008000090000000090000000000000000000
000000000000000000000000000000000080000000000ccccc00000000b0088888880000bbb00000000000000000008000009000000000000000000000000000
0000000000000000000900000900000000800000000000ccc0000000000b8888888880bb00000000000000000000008000009000000090000000000000000000
00000000000000000000000000000000008000000000000000000000000888888888880000000000000000000000008000090000000000000000000000000000
00000000000000000009000009000000008000000000000000000000000888888888880000000000000000000000008000090900000000000000000000000000
00000000000000000000000000000000008000000000000000000000000888888888880000000000000000000000008000000090000000000000000000000000
00000000000000000009000000900000008000000000000000000000000888888888880000000000000000000000008000900000000000000000000000000000
00000000000000000000000000090000008000000000000000000000000888888888880000000000000000000000008009000090000000000000000000000000
00000000000000000000000000000000008000000000000000000000000088888888800000000000000000000000008000000000000000000000000000000000
00000000000000000009000000009000008000000000000000000000000008888888000000000099999000000000008090000009000000000000000000000000
00000000000000000000000000000000008000000000000000000000000000888880000000000990000990000000008900000000000000000000000000000000
000000000000000000090000000009000008000000000000000000000000000b0000000000000900000099000000089000000009000000000000000000000000
000000000000000000000000000000900008000000000099999900000000000b0000000000000900000000900000980000000000000000000000000000000000
00000000000000000000900000000009000800000000009000090000000000b00000000000000090000000900099080000000009000000000000000000000000
00000000000000000000000000000000900800000000990000090000000000b00000000000000099900000099900080000000000000000000000000000000000
00000000000000000000000000000000009080000000900000090000000000b00000000000000000999999099000800000000000000000000000000000000000
00000000000000000000900000000000000980000009000000990000000000b00000000000000000000000009000800000000009000000000000000000000000
00000000000000000000000000000000000098000009000009900000000000b00000000000000000000000000008000000000000000000000000000000000000
0000000000000000000009000000000000000909009000009900000000000b000000000000000000000000000908000000000009000000000000000000000000
0000000000000000000000000000000000000800999999990000000000000b000ccc000000000000000000000908000000000000000000000000000000000000
0000000000000000000000900000000000000080009000000000000000000b00ccccc00000000000000000000980000000000009000000000000000000000000
0000000000000000000000000000000000000008000000000000000000000b00ccccc00000000000000000000800000000000000000000000000000000000000
000000000000000000000009000000000000000809000000000000000000b000ccccc00000000000000000000900000000000090000000000000000000000000
000000000000000000000000000000000000000089000000000000000000b0000ccc000000000000000000008900000000000000000000000000000000000000
000000000000000000000000900000000000000008000000000000000000b000c090000000000000000000080000000000000090000000000000000000000000
000000000000000000000000000000000000000009800000000000000000b000c090000000000000000000800900000000000000000000000000000000000000
000000000000000000000000009000000000000009080000000000000000b00c0090000000000000000008000000000000000900000000000000000000000000
00000000000000000000000000090000000000000000800000000000000b00c00090000000000000000080000900000000000000000000000000000000000000
00000000000000000000000000000000000000000090080000000000000b00c00900000000000000000800009000000000009000000000000000000000000000
00000000000000000000000000000900000000000090008000000000000b0c000900000000000000008000000000000000000000000000000000000000000000
00000000000000000000000000000090000000000000000880000000000bc0009000000000000000880000009000000000090000000000000000000000000000
000000000000000000000000000000000000000000090000080000000bbbc0090000000000000008000000000000000000000000000000000000000000000000
00000000000000000000000000000000900000000009000000888000bbbbb0900000000000008880000000090000000000900000000000000000000000000000
0000000000000000000000000000000000900000000000000000088bbbbbbb000000000000880000000000900000000000000000000000000000000000000000
0000000000000000000000000000000000009000000090000000000bbbbbbb000000008888000000000000000000000009000000000000000000000000000000
0000000000000000000000000000000000000090900009000000000bbbbbbb888888880000000000000009000000000000000000000000000000000000000000
00000000000000000000000000000000000000000909000000009090bbbbb0000000000000000000000000000000000900000000000000000000000000000000
000000000000000000000000000000000000000000000999090900000bbb00000000000000000000000090000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000090000000000000000000000000000000000900000000090000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000900000000000000000000000000000000000
00000000000000000000000000000000000000000000000009000000000000000000000000000000009000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000900000000000000000000000000000900000000090000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000009000000000000000000000000090000000009000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000090000000000000000000000000000000900000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000900000000000000000000900000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000090000000000000000090000009090000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000009000000000000900000000000009000000900000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000090000000000000909090090900090900000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000090909000000009009909009000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000090090900000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000

