pico-8 cartridge // http://www.pico-8.com
version 18
__lua__
-- tetris
-- @aquova

-- constants
screen=128
board_size={w=10,h=20}
piece={blank=0,full=1,wall=-1}

function _init()
	board=init_board()
	lines=0
	curr_piece={}
	frame=0
end

function _update()

end

function _draw()

end

function init_board()
	-- board coord (0,0) is top left
	local b={}
	
	for y=1,board_size.h do
		local row={}
		row[0]=piece.wall
		row[board_size.w+1]=piece.wall
		for x=1,board_size.w do
			row[x]=piece.blank
		end
		add(b,row)
	end
	
	local bottom={}
	for x=0,board_size.w+1 do
		bottom[x]=piece.wall
	end
	add(b,bottom)
	
	return b
end
-->8
-- pieces
piece_templates={
	{
		{0,1,0},
		{1,1,1}
	},{
		{1,1,0},
		{0,1,1}
	},{
		{0,1,1},
		{1,1,0}
	},{
		{1,0,0},
		{1,1,1}
	},{
		{0,0,1},
		{1,1,1}
	},{
		{1,1},
		{1,1}
	},{
		{1,1,1,1}
	}
}
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
